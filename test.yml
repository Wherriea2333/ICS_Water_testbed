settings:
  speed: 1


devices:
  - !reservoir
    label: reservoir1
    volume: 1000
    fluid: !water {}
#    fluid: !!python/object:sim.Fluid.Water { fluid_type: water }
  - !valve
    label: valve1
    state: 'open'
    capacity: 2
  - !pump
    label: pump1
    state: 'on'
  - !pump
    label: pump2
    state: 'on'
  - !filter
    label: filter1
  - !valve
    label: valve2
    state: 'open'
    capacity: 10
  - !tank
    label: municipaltank

connections:
  reservoir1:
    outputs:
      - valve1
  valve1:
    outputs:
     - pump1
     - pump2
  pump1:
    outputs:
     - filter1
  filter1:
    outputs:
     - valve2
  pump2:
    outputs:
      - municipaltank
  valve2:
    outputs:
     - municipaltank

sensors:
  - !volume
    label: reservoirsensor
    connected_to: reservoir1
  - !volume
    label: municipaltanksensor
    connected_to: municipaltank
#  - !state
#    label: valve1sensor
#    connected_to: valve1
#  - !state
#    label: valve2sensor
#    connected_to: valve2
#  - !state
#    label: pump1sensor
#    connected_to: pump1