settings:
  # speed : time to sleep between each cycle in millisecond
  speed: 20
  precision: 5
  max_cycle: 10

devices:
  - !reservoir
    label: T-101
    max_volume: 1000
    volume: 600
    fluid: !water {}
    input_per_cycle: 10
  - !pump
    label: P-101
    volume_per_cycle: 1
    state: 'on'
  - !pump
    label: P-102
    volume_per_cycle: 1
    state: 'on'
  - !valve
    label: MV-201
    state: 'open'
  - !reservoir
    label: T-301
    max_volume: 1000
    volume: 0
    fluid: !water {}

connections:
  T-101:
    outputs:
      - P-101
      - P-102
  P-101:
    outputs:
      - MV-201
  P-102:
    outputs:
      - MV-201
  MV-201:
    outputs:
      - T-301

sensors:
  - !state
    label: P101
    state: 'on'
    connected_to: P-101
    location: QX0.0
  - !state
    label: P102
    state: 'on'
    connected_to: P-102
    location: QX0.1
#  - !state
#    label: MV101
#    connected_to: MV-101
#  - !flowrate
#    label: FIT101
#    connected_to: MV-101
  - !flowrate
    label: FIT201
    state: 'on'
    connected_to: MV-201
    location: MD1
  - !volume
    label: LIT101
    state: 'on'
    connected_to: T-101
    location: QW1
  - !volume
    label: LIT301
    state: 'on'
    connected_to: T-301
    location: QW1

plcs:
  - !plc
    label: PLC1
    state: 'on'
    host: 192.168.1.11
    controlled_sensors_label:
      - P101
      - P102
      - FIT201
      - LIT101